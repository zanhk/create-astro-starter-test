---
import type { CollectionEntry } from "astro:content";
import HeroImage from "@components/blog/HeroImage.astro";
import Layout from "@layouts/Layout.astro";
import FormattedDate from "@components/FormattedDate.astro";
import Title from "@src/components/blog/BlogHeader.astro";
import Comments from "@src/components/blog/Comments.astro";

type Props = CollectionEntry<"blog">["data"];

const { title, description, pubDate, updatedDate, heroImage } = Astro.props as Props;
---

<Layout title={title} description={description}>
	<article class="pt-16">
		<div class="w-full">
			{heroImage && <HeroImage class="mx-auto block rounded-lg shadow-md" width={1020} height={510} src={heroImage} alt={title} />}
		</div>
		<div class="max-w-screen-md prose mx-auto px-4 space-y-4">
			<div class="text-center space-y-4">
				<Title pubDate={pubDate} updatedDate={updatedDate} name={`title-${title}`} class="m-0 mb-2">{title}</Title>
				<hr />
			</div>
			<slot />
			<Comments />
		</div>
	</article>
</Layout>
